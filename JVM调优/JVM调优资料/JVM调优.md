JVM种类
GC器种类

不同种类的不同命令

# Jvm调优典型参数设置;

1. -Xms堆内存的最小值：

   - 默认情况下，当堆中可用内存小于40%时，堆内存会开始增加，一直增加到-Xmx的大小。

2. -Xmx堆内存的最大值：

    默认值是总内存/64（且小于1G）

   - 默认情况下，当堆中可用内存大于70%时，堆内存会开始减少，一直减小到-Xms的大小；

3. -Xmn新生代内存的最大值：

   - 1.包括Eden区和两个Survivor区的总和
   - 2.配置写法如：-Xmn1024k，-Xmn1024m，-Xmn1g

4. -Xss每个线程的栈内存：

   - 默认1M，一般来说是不需要改。线程栈越小意味着可以创建的线程数越多

整个堆的大小 = 年轻代大小 + 年老代大小，堆的大小不包含元空间大小，如果增大了年轻代，年老代相应就会减小，官方默认的配置为年老代大小/年轻代大小=2/1左右；

建议在开发测试环境可以用Xms和Xmx分别设置最小值最大值，但是在线上生产环境，**Xms和Xmx设置的值必须一样，防止抖动；**

> 这里比较重要喔，一般我们都是将Xms和Xmx的值设置为一样的！！！



**JVM调优设置合大小堆内存空间，既不能太大，也不能太小。那么应该设置为多少呢？**

默认的配置是否存在性能瓶颈。如果想要确定JVM性能问题瓶颈，需要进一步分析**GC日志**

1. **-XX:+PrintGCDetails** 开启GC日志创建更详细的GC日志 ，默认情况下，GC日志是关闭的

2. -XX:+PrintGCTimeStamps，-XX:+PrintGCDateStamps

    开启GC时间提示

   - 开启时间便于我们更精确地判断几次GC操作之间的时两个参数的区别
   - 时间戳是相对于 0 （依据JVM启动的时间）的值，而日期戳（date stamp）是实际的日期字符串
   - 由于日期戳需要进行格式化，所以它的效率可能会受轻微的影响，不过这种操作并不频繁，它造成的影响也很难被我们感知。

3. **-XX:+PrintHeapAtGC** 打印堆的GC日志

4. **-Xloggc:./logs/gc.log** 指定GC日志路径



```java
XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -Xloggc:E:/logs/gc-default.log

这样就会在e盘下logs文件夹下面，生成gc-default.log日志
```

