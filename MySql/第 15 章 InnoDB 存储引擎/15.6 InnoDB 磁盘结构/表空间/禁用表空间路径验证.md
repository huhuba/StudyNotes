#### 15.6.3.7 禁用表空间路径验证

在启动时，`InnoDB`扫描由[`innodb_directories`](https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_directories)变量定义的目录以查找表空间文件。发现的表空间文件的路径根据数据字典中记录的路径进行验证。如果路径不匹配，则更新数据字典中的路径。

[`innodb_validate_tablespace_paths`](https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_validate_tablespace_paths) MySQL 8.0.21 中引入 的 变量允许禁用表空间路径验证。此功能适用于不移动表空间文件的环境。禁用路径验证可以缩短具有大量表空间文件的系统的启动时间。如果[`log_error_verbosity`](https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_log_error_verbosity)设置为 3，当禁用表空间路径验证时，启动时会打印以下消息：

```terminal
[InnoDB] Skipping InnoDB tablespace path validation. 
Manually moved tablespace files will not be detected!
```

警告

移动表空间文件后在禁用表空间路径验证的情况下启动服务器可能会导致未定义的行为。